<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Panel de Administrador</title>
        <link rel="stylesheet" href="Estilo.css">
        <link rel="icon" href="Logo.png" type="image/svg+xml">
        <script defer src="../Back-end/principal.js"></script>
        <script defer src="../Back-end/menu.js"></script>
    </head>
    <body>
        <header>
            <div class="logo">
                <img src="Logo.png" alt="Escudo Polic√≠a">
                <span>Panel de Administrador</span>
            </div>

            <div class="user-menu">
                <button id="userButton">
                    <div class="user-avatar" id="headerAvatar">üë®‚Äçüíº</div>
                    <span id="headerUsername">Administrador</span>
                </button>
                <div id="dropdownMenu" class="dropdown">
                    <a href="#" id="viewProfile" class="dropdown-link">
                        <span class="dropdown-link-icon">üë§</span>
                        <span>Ver Perfil</span>
                    </a>
                    
                    <div class="dropdown-divider"></div>
                    
                    <a href="Registro.html" class="dropdown-link">
                        <span class="dropdown-link-icon">‚ûï</span>
                        <span>Registrar Usuario</span>
                    </a>
                    
                    <a href="#" id="manageUsers" class="dropdown-link">
                        <span class="dropdown-link-icon">üë•</span>
                        <span>Gestionar Usuarios</span>
                    </a>
                    
                    <a href="#" id="systemConfig" class="dropdown-link">
                        <span class="dropdown-link-icon">‚öôÔ∏è</span>
                        <span>Configuraci√≥n del Sistema</span>
                    </a>
                    
                    <a href="#" id="viewLogs" class="dropdown-link">
                        <span class="dropdown-link-icon">üìã</span>
                        <span>Registro de Actividades</span>
                    </a>
                    
                    <div class="dropdown-divider"></div>
                    
                    <a href="InicioDeSesion.html" id="logoutLink" class="dropdown-link logout">
                        <span class="dropdown-link-icon">üö™</span>
                        <span>Cerrar Sesi√≥n</span>
                    </a>
                </div>
            </div>
        </header>

        <nav class="barra-iconos">
            <a href="civiles.html" class="icono" title="Gesti√≥n de Civiles">
                <img src="Civil.png" alt="Civiles">
            </a>
            <a href="Denuncias.html" class="icono" title="Denuncias">
                <img src="Denuncias.png" alt="Denuncias">
            </a>
            <a href="Vehiculo2.0.html" class="icono" title="Veh√≠culos">
                <img src="Vehiculo.png" alt="Veh√≠culos">
            </a>
            <a href="Mapa.html" class="icono" title="Mapa">
                <img src="mapa.png" alt="Mapa">
            </a>
            <a href="#" class="icono" title="Gesti√≥n de Usuarios" id="usersIcon">
                <img src="usuarios.png" alt="Usuarios" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2250%22 height=%2250%22 viewBox=%220 0 24 24%22 fill=%22%23fff%22%3E%3Cpath d=%22M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z%22/%3E%3C/svg%3E'">
            </a>
            <a href="Radio.html" class="icono" title="Radio">
                <img src="radio-policia-2507338-2102444.png" alt="Radio">
            </a>
            <a href="Escaner Facial.html" class="icono" title="Esc√°ner Facial">
                <img src="Escaner Facial.png" alt="Esc√°ner Facial">
            </a>
            <a href="#" class="icono" title="Estad√≠sticas del Sistema" id="statsIcon">
                <img src="estadisticas.png" alt="Estad√≠sticas" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2250%22 height=%2250%22 viewBox=%220 0 24 24%22 fill=%22%23fff%22%3E%3Cpath d=%22M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z%22/%3E%3C/svg%3E'">
            </a>
        </nav>

        <!-- Panel de Estad√≠sticas R√°pidas -->
        <div class="admin-dashboard">
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-info">
                        <h3 id="totalUsers">0</h3>
                        <p>Policias Totales</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üü¢</div>
                    <div class="stat-info">
                        <h3 id="activeUsers">0</h3>
                        <p>Policias Activos</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üìù</div>
                    <div class="stat-info">
                        <h3 id="totalReports">0</h3>
                        <p>Denuncias Totales</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üöó</div>
                    <div class="stat-info">
                        <h3 id="totalVehicles">0</h3>
                        <p>Veh√≠culos Registrados</p>
                    </div>
                </div>
            </div>

            <!-- Actividades Recientes -->
            <div class="recent-activities">
                <h2>Actividades Recientes del Sistema</h2>
                <div class="activity-list" id="activityList">
                    <div class="activity-item">
                        <span class="activity-time">Cargando...</span>
                        <span class="activity-desc">Obteniendo actividades del sistema</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chat visible y centrado -->
        <div id="chatbot" class="chatbot">
            <div class="chat-header">
                Asistente Administrativo
                <button id="cerrarChat">‚úñ</button>
            </div>
            <div class="chat-body">
                ü§ñ Bienvenido Administrador, ¬øen qu√© puedo ayudarte?
            </div>
            <input type="text" placeholder="Escribe tu mensaje..." class="chat-input">
        </div>

        <!-- Modal de Perfil -->
        <div id="profileModal" class="profile-modal">
            <div class="profile-modal-content">
                <button class="close-modal-btn" id="closeProfileModal">&times;</button>
                
                <div class="profile-header">
                    <div class="profile-avatar" id="profileAvatar">üë®‚Äçüíº</div>
                    <div class="profile-info">
                        <h2 id="profileName">Administrador</h2>
                        <p id="profileRole">Administrador del Sistema</p>
                        <p id="profilePlaca">Acceso Total</p>
                    </div>
                </div>

                <div class="user-status admin-status">
                    ‚úì Administrador con privilegios completos
                </div>

                <div class="profile-section">
                    <h3>Informaci√≥n Personal</h3>
                    <div class="profile-detail">
                        <label>Nombre Completo:</label>
                        <span id="profileFullName">-</span>
                    </div>
                    <div class="profile-detail">
                        <label>Email:</label>
                        <span id="profileEmail">-</span>
                    </div>
                    <div class="profile-detail">
                        <label>Tel√©fono:</label>
                        <span id="profilePhone">-</span>
                    </div>
                </div>

                <div class="profile-section">
                    <h3>Informaci√≥n Laboral</h3>
                    <div class="profile-detail">
                        <label>Rol:</label>
                        <span id="profileRoleBadge" class="role-badge admin-badge">Administrador</span>
                    </div>
                    <div class="profile-detail">
                        <label>Departamento:</label>
                        <span id="profileDepartment">Administraci√≥n General</span>
                    </div>
                    <div class="profile-detail">
                        <label>Fecha de Ingreso:</label>
                        <span id="profileJoinDate">-</span>
                    </div>
                </div>

                <div class="profile-section">
                    <h3>Permisos del Administrador</h3>
                    <div class="permissions-list" id="permissionsList">
                        <div class="permission-item admin-permission">‚úì Acceso Total al Sistema</div>
                        <div class="permission-item admin-permission">‚úì Gesti√≥n de Usuarios</div>
                        <div class="permission-item admin-permission">‚úì Gesti√≥n de Civiles</div>
                        <div class="permission-item admin-permission">‚úì Gesti√≥n de Denuncias</div>
                        <div class="permission-item admin-permission">‚úì Gesti√≥n de Veh√≠culos</div>
                        <div class="permission-item admin-permission">‚úì Acceso al Mapa</div>
                        <div class="permission-item admin-permission">‚úì Configuraci√≥n del Sistema</div>
                        <div class="permission-item admin-permission">‚úì Registro de Actividades</div>
                        <div class="permission-item admin-permission">‚úì Reportes y Estad√≠sticas</div>
                    </div>
                </div>

                <div class="profile-actions">
                    <button class="btn-profile btn-close-profile" id="btnCloseProfile">Cerrar</button>
                    <button class="btn-profile btn-logout" id="btnLogoutProfile">Cerrar Sesi√≥n</button>
                </div>
            </div>
        </div>

        <footer>
            ¬© 2025 SALTODP. Todos los derechos reservados. | Panel de Administrador
        </footer>

        <style>
            /* Estilos espec√≠ficos para el panel de administrador */
            .admin-dashboard {
                max-width: 1400px;
                margin: 20px auto;
                padding: 0 20px;
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                background-color: #f4f6f9;
                color: #1a1a1a;
            }

            .stats-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
                margin-bottom: 30px;
            }

            .stat-card {
                background: linear-gradient(135deg, #0d1a2d 0%, #0b3d91 100%);
                border-left: 6px solid #d4af37;
                border-radius: 12px;
                padding: 25px;
                display: flex;
                align-items: center;
                gap: 20px;
                box-shadow: 0 6px 18px rgba(0, 0, 0, 0.15);
                transition: transform 0.3s ease, box-shadow 0.3s ease;
            }

            .stat-card:hover {
                transform: translateY(-6px);
                box-shadow: 0 10px 24px rgba(0, 0, 0, 0.2);
            }

            .stat-icon {
                font-size: 48px;
                color: #d4af37;
                filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
            }

            .stat-info h3 {
                color: #ffffff;
                font-size: 28px;
                margin: 0;
                font-weight: 600;
            }

            .stat-info p {
                color: rgba(255, 255, 255, 0.85);
                margin: 5px 0 0;
                font-size: 14px;
            }

            .recent-activities {
                background: #ffffff;
                border-radius: 12px;
                padding: 25px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            }

            .recent-activities h2 {
                margin-top: 0;
                color: #0b3d91;
                font-weight: 600;
                border-bottom: 2px solid #d4af37;
                padding-bottom: 10px;
            }

            .activity-list {
                margin-top: 20px;
            }

            .activity-item {
                display: flex;
                gap: 15px;
                padding: 15px;
                border-left: 4px solid #0b3d91;
                margin-bottom: 10px;
                background: #f1f3f5;
                border-radius: 6px;
                transition: background 0.2s ease;
            }

            .activity-item:hover {
                background: #e4e7eb;
            }

            .activity-time {
                color: #555;
                font-size: 13px;
                min-width: 80px;
                font-weight: 500;
            }

            .activity-desc {
                color: #1a1a1a;
                font-size: 14px;
                line-height: 1.4;
            }

            .admin-status,
            .admin-badge,
            .admin-permission {
                background: linear-gradient(135deg, #0d1a2d 0%, #0b3d91 100%);
                color: #fefefe !important;
                font-weight: 600;
                border-radius: 20px;
                padding: 6px 16px;
                display: inline-block;
                font-size: 13px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }

            .admin-badge {
                border: 1px solid #d4af37;
            }

            @media (max-width: 768px) {
                .stats-container {
                    grid-template-columns: 1fr;
                }

                .activity-item {
                    flex-direction: column;
                    gap: 5px;
                }
            }
        </style>
    </body>
</html>