<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Plataforma de Denuncias - Sistema de GestiÃ³n</title>
  <link rel="stylesheet" href="denuncia.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

<!-- ===== MENÃš PRINCIPAL ===== -->
<nav class="nav-tabs" aria-label="NavegaciÃ³n principal">
  <ul class="nav-tabs__list">
    <li><a href="civiles.html" class="nav-tabs__link">
      <img src="Civil.png" alt="SecciÃ³n Civil" class="nav-tabs__icon" />
      <span>Civiles</span>
    </a></li>
    <li><a href="Radio.html" class="nav-tabs__link">
      <img src="radio-policia-2507338-2102444.png" alt="SecciÃ³n Radio" class="nav-tabs__icon" />
      <span>Radio</span>
    </a></li>
    <li><a href="Vehiculo2.0.html" class="nav-tabs__link">
      <img src="Vehiculo.png" alt="SecciÃ³n VehÃ­culo" class="nav-tabs__icon" />
      <span>VehÃ­culos</span>
    </a></li>
    <li><a href="Mapa.html" class="nav-tabs__link">
      <img src="mapa.png" alt="SecciÃ³n Mapa" class="nav-tabs__icon" />
      <span>Mapa</span>
    </a></li>
    <li><a href="principal.html" class="nav-tabs__link">
      <img src="Logo.png" alt="SecciÃ³n principal" class="nav-tabs__icon" />
      <span>Inicio</span>
    </a></li>
    <li><a href="Escaner Facial.html" class="nav-tabs__link">
      <img src="Escaner Facial.png" alt="SecciÃ³n Escaner" class="nav-tabs__icon" />
      <span>EscÃ¡ner</span>
    </a></li>
  </ul>
</nav>

<main class="denuncias-main">

  <!-- ===== BANNER ===== -->
  <section class="banner fade-in" aria-label="Mensaje ciudadano">
    <div class="banner__content">
      <h2 class="banner__title">La voz ciudadana cuenta</h2>
      <p class="banner__text">Denuncia, participa y ayuda a crear una comunidad mÃ¡s segura. Tu reporte hace la diferencia.</p>
    </div>
  </section>

  <!-- ===== ESTADÃSTICAS ===== -->
  <div class="stats-container fade-in">
    <div class="stat-card">
      <span class="stat-number" id="total-denuncias">0</span>
      <span class="stat-label">Total Denuncias</span>
    </div>
    <div class="stat-card">
      <span class="stat-number" id="denuncias-hoy">0</span>
      <span class="stat-label">Hoy</span>
    </div>
    <div class="stat-card">
      <span class="stat-number" id="denuncias-mes">0</span>
      <span class="stat-label">Este Mes</span>
    </div>
    <div class="stat-card">
      <span class="stat-number" id="resueltas">0</span>
      <span class="stat-label">Resueltas</span>
    </div>
  </div>

  <!-- ===== FORMULARIO AGREGAR DENUNCIA ===== -->
  <section class="denuncia-form fade-in" aria-label="Agregar nueva denuncia">
    <div class="denuncia-form__content">
      <h3 class="denuncia-form__title">Â¿QuerÃ©s reportar algo?</h3>
      <p class="platform-info__text" style="color: #666; text-align: center; margin-bottom: 25px;">
        Completa el formulario para registrar una nueva denuncia en el sistema.
      </p>
      
      <form id="form-agregar-denuncia" method="POST">
        <div class="form-group">
          <label for="nombre_civil">Nombre del Civil *</label>
          <input type="text" id="nombre_civil" name="nombre_civil" placeholder="Ingrese el nombre completo" required>
        </div>
        
        <div class="form-group">
          <label for="codigo_penal">CÃ³digo Penal *</label>
          <input type="text" id="codigo_penal" name="codigo_penal" placeholder="Ej: ART 123, CP 456" required>
        </div>
        
        <div class="form-group">
          <label for="descripcion">DescripciÃ³n Detallada *</label>
          <textarea id="descripcion" name="descripcion" placeholder="Describa los hechos ocurridos con todos los detalles relevantes..." required></textarea>
        </div>
        
        <div style="text-align: center; margin-top: 30px;">
          <button type="submit" class="btn btn-primary">
            ğŸ“ Registrar Denuncia
          </button>
          <button type="reset" class="btn btn-secondary">
            ğŸ”„ Limpiar Formulario
          </button>
        </div>
      </form>
      <div id="mensaje-form"></div>
    </div>
  </section>

  <!-- ===== FORMULARIO DE BÃšSQUEDA ===== -->
  <section class="busqueda-form fade-in" aria-label="Buscar denuncias">
    <div class="busqueda-form__content">
      <h3 class="busqueda-form__title">Buscar Denuncias</h3>
      <p class="platform-info__text" style="color: #666; text-align: center; margin-bottom: 25px;">
        Encuentre denuncias especÃ­ficas utilizando los filtros de bÃºsqueda.
      </p>
      
      <form id="form-buscar-denuncia" method="GET">
        <div class="form-group">
          <label for="busqueda">Buscar por Nombre o DescripciÃ³n</label>
          <input type="text" id="busqueda" name="busqueda" placeholder="Ingrese nombre o palabras clave...">
        </div>
        
        <div class="form-group">
          <label for="codigo_busqueda">Buscar por CÃ³digo Penal</label>
          <input type="text" id="codigo_busqueda" name="codigo_busqueda" placeholder="Ingrese cÃ³digo penal...">
        </div>
        
        <div style="text-align: center; margin-top: 25px;">
          <button type="submit" class="btn btn-info">
            ğŸ” Buscar Denuncias
          </button>
          <button type="button" id="btn-mostrar-todas" class="btn btn-secondary">
            ğŸ“‹ Mostrar Todas
          </button>
          <button type="button" id="btn-generar-reporte" class="btn btn-warning">
            ğŸ“Š Generar Reporte
          </button>
        </div>
      </form>
    </div>
  </section>

  <!-- ===== MODAL DE EDICIÃ“N ===== -->
  <div id="modalEditar" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">âœï¸ Editar Denuncia</h3>
        <span class="close">&times;</span>
      </div>
      <form id="form-editar-denuncia">
        <input type="hidden" id="editar_id" name="id">
        
        <div class="form-group">
          <label for="editar_nombre_civil">Nombre del Civil *</label>
          <input type="text" id="editar_nombre_civil" name="nombre_civil" required>
        </div>
        
        <div class="form-group">
          <label for="editar_codigo_penal">CÃ³digo Penal *</label>
          <input type="text" id="editar_codigo_penal" name="codigo_penal" required>
        </div>
        
        <div class="form-group">
          <label for="editar_descripcion">DescripciÃ³n Detallada *</label>
          <textarea id="editar_descripcion" name="descripcion" rows="4" required></textarea>
        </div>
        
        <div style="text-align: center; margin-top: 25px;">
          <button type="submit" class="btn btn-success">
            ğŸ’¾ Guardar Cambios
          </button>
          <button type="button" class="btn btn-secondary" id="btn-cancelar-edicion">
            âŒ Cancelar
          </button>
        </div>
      </form>
      <div id="mensaje-editar"></div>
    </div>
  </div>

  <!-- ===== INFORMACIÃ“N DE LA PLATAFORMA ===== -->
  <section class="platform-info fade-in" aria-label="InformaciÃ³n sobre la plataforma">
    <div class="platform-info__content">
      <h3 class="platform-info__title">Â¿QuÃ© es esta plataforma?</h3>
      <p class="platform-info__text">
        Un sistema transparente y eficiente para visualizar, reportar y gestionar denuncias pÃºblicas. 
        Cada voz cuenta, cada reporte construye seguridad comunitaria. Nuestra plataforma garantiza 
        el anonimato cuando sea necesario y proporciona seguimiento en tiempo real de todos los casos.
      </p>
    </div>
  </section>

  <!-- ===== DENUNCIAS RECIENTES ===== -->
  <section class="recent-denuncias fade-in" aria-label="Denuncias recientes">
    <div class="recent-denuncias__header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
      <h3 class="recent-denuncias__title">Denuncias Registradas</h3>
      <button id="btn-actualizar-lista" class="btn btn-info">
        ğŸ”„ Actualizar Lista
      </button>
    </div>
    
    <div id="tabla-denuncias">
      <div class="loading">
        <div class="spinner"></div>
        <p>Cargando denuncias...</p>
      </div>
    </div>
  </section>

</main>

<!-- ===== FOOTER ===== -->
<footer class="footer">
  <div class="footer__content">
    <p class="footer__text">&copy; 2025 Plataforma de Denuncias - Sistema de GestiÃ³n. Todos los derechos reservados.</p>
    <p class="footer__text" style="margin-top: 10px; font-size: 0.9rem;">
      VersiÃ³n 2.0 | Sistema desarrollado para la gestiÃ³n eficiente de denuncias comunitarias
    </p>
  </div>
</footer>

<!-- ===== JAVASCRIPT EXTERNO ===== -->
<script src="../Back-end/denuncia.js"></script>

</body>
</html>